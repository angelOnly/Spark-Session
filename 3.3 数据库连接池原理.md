## 数据库连接池原理
### 数据库连接原理
每次应用程序执行MySQL中一条SQL语句，就必须建立Connection对象，代表与MySQL进行了连接。

然后通过连接发送要执行的SQL语句，会调用Connection.close()关闭和销毁与数据库的连接。

>#### 为什么关闭连接？
>
>数据库连接是一种很重的资源，代表网络连接，IO等资源。如果不使用，需要尽早关闭，以避免资源浪费。

#### 不足

如果频繁操作MySQL，就会频繁创建Connection对象，底层建立起与MySQL的长链接，占用了网络资源。IO资源。

每次使用完Connection对象之后，必须将Connection连接关闭，又涉及到频繁的网络资源，IO资源的关闭和释放。

对于特别频繁的数据库操作，会导致性能急剧下降。

### 数据库连接池原理
数据库连接池通常会内部持有一定数量的数据库连接，可能通常100 ~ 1000 个。

然后每次应用程序要执行SQL语句时，会去数据库连接池中取出一个数据库连接执行SQL语句，当执行以后，会将该连接放回数据库连接池，不会释放该连接。

#### 优点
1. 应用程序不需要管理数据库的关闭和销毁。
2. 程序中只有固定数量的数据库连接，对于短时间频繁的进行数据库操作业务，这样可以大幅度可以节省资源开销，最终能提升性能。

在Spark中，Spark数据量很大，为了避免重复创建和销毁数据库连接。通常都需要使用数据库连接池，可以使用开源数据库连接池，如：C3P0，DBCP。



