## 1.2 实时日志收集流程

### 数据来源

**前端**

网站或 app。非常重要的一点就是埋点。在网站/app哪个页面的哪些操作发生时，前端代码 (网站，js，app，Android，ios) 就通过网络请求 (ajax, socket) 向后端服务器发送指定格式的日志数据。

**后端**

Nginx，后台web服务器 (tomcat, jetty) 后台系统(J2EE, PHP) 。

到此，和离线日志收集流程一样，通过日志传输工具，放入指定文件夹。

**flume**

监控指定文件夹

**HDFS**



**kafka**

日志数据如何处理由自己决定，每天收集一份，放到 flume 转移到 hdfs，清洗后放入 hive，建立离线的数据仓库。



实时数据，通常是从分布式消息队列集群中读取的，如 kafka，实时数据，实时 log，实时的写入消息队列，如 kafka。

再由后端实时数据处理程序( storm, spark streaming) 实时从 kafka 中读取数据，log 日志，然后进行实时计算和处理。



